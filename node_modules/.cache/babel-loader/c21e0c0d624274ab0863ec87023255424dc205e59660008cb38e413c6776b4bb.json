{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Rehman\\\\Desktop\\\\book-review-app\\\\client\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport ReviewForm from \"./ReviewForm\";\nimport ReviewCard from \"./ReviewCard\";\nimport PasswordResetRequest from \"./PasswordResetRequest\";\nimport AdminPanel from \"./AdminPanel\";\nimport ProfilePage from \"./ProfilePage\";\nimport * as api from \"./api\";\nimport { Routes, Route } from \"react-router-dom\";\nimport VerifyEmail from \"./VerifyEmail\";\nimport ResetPassword from \"./ResetPassword\";\nimport \"./App.css\";\nimport { useToast } from \"./Toast\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const {\n    notify\n  } = useToast();\n  const [reviews, setReviews] = useState([]);\n  const [reviewsLoading, setReviewsLoading] = useState(false);\n  const [profileReviews, setProfileReviews] = useState([]);\n  const [users, setUsers] = useState([]);\n  const [view, setView] = useState(\"main\");\n  const [isAdmin, setIsAdmin] = useState(false);\n  const [profile, setProfile] = useState(null);\n  const [form, setForm] = useState({\n    bookTitle: \"\",\n    author: \"\",\n    review: \"\",\n    rating: \"\",\n    coverImage: \"\"\n  });\n  const [editMode, setEditMode] = useState(null);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [authMode, setAuthMode] = useState(\"login\");\n  const [authForm, setAuthForm] = useState({\n    username: \"\",\n    email: \"\",\n    password: \"\"\n  });\n  const [showResetRequest, setShowResetRequest] = useState(false);\n  const [token, setToken] = useState(localStorage.getItem(\"token\") || \"\");\n  const [authError, setAuthError] = useState(\"\");\n  useEffect(() => {\n    if (token) {\n      loadReviews();\n      checkAdmin();\n    }\n  }, [token]);\n  const checkAdmin = async () => {\n    try {\n      await api.fetchUsers(token);\n      setIsAdmin(true);\n    } catch {\n      setIsAdmin(false);\n    }\n  };\n  const loadReviews = async () => {\n    try {\n      setReviewsLoading(true);\n      const data = await api.fetchReviews(token);\n      const sorted = [...data].sort((a, b) => (b.favorite ? 1 : 0) - (a.favorite ? 1 : 0));\n      setReviews(sorted);\n    } catch {\n      setReviews([]);\n    } finally {\n      setReviewsLoading(false);\n    }\n  };\n  const handleFavorite = async id => {\n    try {\n      await api.toggleFavorite(id, token);\n      loadReviews();\n      notify(\"Updated favorite\", {\n        type: \"success\"\n      });\n    } catch {\n      notify(\"Failed to update favorite status\", {\n        type: \"error\"\n      });\n    }\n  };\n  const handleAuthChange = e => {\n    setAuthForm({\n      ...authForm,\n      [e.target.name]: e.target.value\n    });\n  };\n  const handleSubmit = async reviewData => {\n    try {\n      if (editMode) {\n        await api.updateReview(editMode, reviewData, token);\n        setEditMode(null);\n        notify(\"Review updated\", {\n          type: \"success\"\n        });\n      } else {\n        await api.addReview(reviewData, token);\n        notify(\"Review added\", {\n          type: \"success\"\n        });\n      }\n      loadReviews();\n      setForm({\n        bookTitle: \"\",\n        author: \"\",\n        review: \"\",\n        rating: \"\",\n        coverImage: \"\"\n      });\n    } catch {\n      notify(\"You must be logged in to add or edit reviews\", {\n        type: \"error\"\n      });\n    }\n  };\n  const handleDelete = async id => {\n    try {\n      await api.deleteReview(id, token);\n      loadReviews();\n      notify(\"Review deleted\", {\n        type: \"success\"\n      });\n    } catch {\n      notify(\"You must be logged in to delete reviews\", {\n        type: \"error\"\n      });\n    }\n  };\n  const handleAuthSubmit = async e => {\n    e.preventDefault();\n    setAuthError(\"\");\n    try {\n      if (authMode === \"login\") {\n        const res = await api.login(authForm);\n        setToken(res.token);\n        localStorage.setItem(\"token\", res.token);\n        notify(\"Welcome back!\", {\n          type: \"success\"\n        });\n      } else {\n        await api.register(authForm);\n        setAuthMode(\"login\");\n        notify(\"Registration successful. Please verify your email.\", {\n          type: \"success\",\n          duration: 4000\n        });\n      }\n      setAuthForm({\n        username: \"\",\n        password: \"\"\n      });\n    } catch (err) {\n      var _err$response, _err$response$data;\n      const msg = ((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || \"Authentication failed\";\n      setAuthError(msg);\n      notify(msg, {\n        type: \"error\",\n        duration: 4000\n      });\n    }\n  };\n  const handleLogout = () => {\n    setToken(\"\");\n    localStorage.removeItem(\"token\");\n    setView(\"main\");\n    notify(\"Logged out\", {\n      type: \"info\"\n    });\n  };\n  const handleEdit = review => {\n    setForm({\n      bookTitle: review.bookTitle,\n      author: review.author,\n      review: review.review,\n      rating: review.rating,\n      coverImage: review.coverImage || \"\"\n    });\n    setEditMode(review._id);\n  };\n  const filteredReviews = reviews.filter(review => review.bookTitle.toLowerCase().includes(searchTerm.toLowerCase()) || review.author.toLowerCase().includes(searchTerm.toLowerCase()));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(Routes, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        path: \"/verify-email\",\n        element: /*#__PURE__*/_jsxDEV(VerifyEmail, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 46\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/reset-password\",\n        element: /*#__PURE__*/_jsxDEV(ResetPassword, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 48\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 7\n    }, this), token && /*#__PURE__*/_jsxDEV(\"nav\", {\n      style: {\n        display: \"flex\",\n        justifyContent: \"flex-end\",\n        gap: 16,\n        marginBottom: 16\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setView(\"main\"),\n        children: \"Home\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: async () => {\n          setView(\"profile\");\n          try {\n            const [me, myReviews] = await Promise.all([api.getMe(token), api.fetchUserReviews(token)]);\n            setProfile(me);\n            setProfileReviews(myReviews);\n          } catch {}\n        },\n        children: \"Profile\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 11\n      }, this), isAdmin && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: async () => {\n          setView(\"admin\");\n          try {\n            const data = await api.fetchUsers(token);\n            setUsers(data);\n          } catch {}\n        },\n        children: \"Admin\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"logout-btn\",\n        onClick: handleLogout,\n        children: \"Logout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Book Reviews\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 7\n    }, this), !token ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"auth-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: authMode === \"login\" ? \"Login\" : \"Register\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 11\n      }, this), !showResetRequest ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleAuthSubmit,\n          className: \"auth-form\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"username\",\n            value: authForm.username,\n            onChange: handleAuthChange,\n            placeholder: \"Username\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 17\n          }, this), authMode === \"register\" && /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            name: \"email\",\n            value: authForm.email,\n            onChange: handleAuthChange,\n            placeholder: \"Email\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            name: \"password\",\n            value: authForm.password,\n            onChange: handleAuthChange,\n            placeholder: \"Password\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            children: authMode === \"login\" ? \"Login\" : \"Register\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 15\n        }, this), authMode === \"login\" && /*#__PURE__*/_jsxDEV(\"button\", {\n          style: {\n            marginTop: 8\n          },\n          onClick: () => setShowResetRequest(true),\n          children: \"Forgot password?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setAuthMode(authMode === \"login\" ? \"register\" : \"login\"),\n          children: authMode === \"login\" ? \"Create an account\" : \"Back to login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 15\n        }, this), authError && /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: \"red\"\n          },\n          children: authError\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(PasswordResetRequest, {\n        onBack: () => setShowResetRequest(false)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [view === \"main\" && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: \"flex\",\n            justifyContent: \"center\",\n            marginBottom: 24\n          },\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Search by title or author...\",\n            value: searchTerm,\n            onChange: e => setSearchTerm(e.target.value),\n            className: \"search-bar\",\n            style: {\n              maxWidth: 400\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(ReviewForm, {\n          onSubmit: handleSubmit,\n          editMode: editMode,\n          initialForm: form,\n          token: token\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"reviews\",\n          children: reviewsLoading ? Array.from({\n            length: 6\n          }).map((_, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"review\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"skeleton skeleton-line\",\n              style: {\n                width: \"70%\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 304,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"skeleton skeleton-line\",\n              style: {\n                width: \"40%\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 305,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"skeleton skeleton-thumb\",\n              style: {\n                borderRadius: 8,\n                margin: \"8px 0\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 306,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"skeleton skeleton-line\",\n              style: {\n                width: \"90%\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"skeleton skeleton-line\",\n              style: {\n                width: \"85%\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 308,\n              columnNumber: 25\n            }, this)]\n          }, i, true, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 23\n          }, this)) : filteredReviews.map(review => /*#__PURE__*/_jsxDEV(ReviewCard, {\n            review: review,\n            onEdit: handleEdit,\n            onDelete: handleDelete,\n            onFavorite: handleFavorite\n          }, review._id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 312,\n            columnNumber: 23\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true), view === \"profile\" && /*#__PURE__*/_jsxDEV(ProfilePage, {\n        profile: profile,\n        onSaveProfile: async updates => {\n          try {\n            const updated = await api.updateMe(updates, token);\n            setProfile(updated);\n            notify(\"Profile updated\", {\n              type: \"success\"\n            });\n          } catch (e) {\n            throw e;\n          }\n        },\n        onUploadAvatar: async e => {\n          var _e$target$files;\n          const file = (_e$target$files = e.target.files) === null || _e$target$files === void 0 ? void 0 : _e$target$files[0];\n          if (!file) return;\n          try {\n            const {\n              url\n            } = await api.uploadAvatar(file);\n            const updated = await api.updateMe({\n              avatarUrl: url\n            }, token);\n            setProfile(updated);\n            notify(\"Photo updated\", {\n              type: \"success\"\n            });\n          } catch (e) {\n            notify(\"Failed to upload avatar\", {\n              type: \"error\"\n            });\n          }\n        },\n        onChangePassword: async ({\n          currentPassword,\n          newPassword\n        }) => {\n          try {\n            await api.changePassword({\n              currentPassword,\n              newPassword\n            }, token);\n          } catch (e) {\n            throw e;\n          }\n        },\n        profileReviews: profileReviews,\n        onEdit: handleEdit,\n        onDelete: handleDelete,\n        onFavorite: handleFavorite\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 13\n      }, this), view === \"admin\" && /*#__PURE__*/_jsxDEV(AdminPanel, {\n        users: users,\n        reviews: reviews,\n        onDeleteReview: handleDelete\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 364,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 167,\n    columnNumber: 5\n  }, this);\n}\n\n// End of file\n_s(App, \"0aN+A0QXCY83ng655QtwZuTqCr4=\", false, function () {\n  return [useToast];\n});\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","ReviewForm","ReviewCard","PasswordResetRequest","AdminPanel","ProfilePage","api","Routes","Route","VerifyEmail","ResetPassword","useToast","jsxDEV","_jsxDEV","Fragment","_Fragment","App","_s","notify","reviews","setReviews","reviewsLoading","setReviewsLoading","profileReviews","setProfileReviews","users","setUsers","view","setView","isAdmin","setIsAdmin","profile","setProfile","form","setForm","bookTitle","author","review","rating","coverImage","editMode","setEditMode","searchTerm","setSearchTerm","authMode","setAuthMode","authForm","setAuthForm","username","email","password","showResetRequest","setShowResetRequest","token","setToken","localStorage","getItem","authError","setAuthError","loadReviews","checkAdmin","fetchUsers","data","fetchReviews","sorted","sort","a","b","favorite","handleFavorite","id","toggleFavorite","type","handleAuthChange","e","target","name","value","handleSubmit","reviewData","updateReview","addReview","handleDelete","deleteReview","handleAuthSubmit","preventDefault","res","login","setItem","register","duration","err","_err$response","_err$response$data","msg","response","message","handleLogout","removeItem","handleEdit","_id","filteredReviews","filter","toLowerCase","includes","className","children","path","element","fileName","_jsxFileName","lineNumber","columnNumber","style","display","justifyContent","gap","marginBottom","onClick","me","myReviews","Promise","all","getMe","fetchUserReviews","onSubmit","onChange","placeholder","required","marginTop","color","onBack","maxWidth","initialForm","Array","from","length","map","_","i","width","borderRadius","margin","onEdit","onDelete","onFavorite","onSaveProfile","updates","updated","updateMe","onUploadAvatar","_e$target$files","file","files","url","uploadAvatar","avatarUrl","onChangePassword","currentPassword","newPassword","changePassword","onDeleteReview","_c","$RefreshReg$"],"sources":["C:/Users/Rehman/Desktop/book-review-app/client/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport ReviewForm from \"./ReviewForm\";\r\nimport ReviewCard from \"./ReviewCard\";\r\nimport PasswordResetRequest from \"./PasswordResetRequest\";\r\nimport AdminPanel from \"./AdminPanel\";\r\nimport ProfilePage from \"./ProfilePage\";\r\nimport * as api from \"./api\";\r\nimport { Routes, Route } from \"react-router-dom\";\r\nimport VerifyEmail from \"./VerifyEmail\";\r\nimport ResetPassword from \"./ResetPassword\";\r\nimport \"./App.css\";\r\nimport { useToast } from \"./Toast\";\r\n\r\nfunction App() {\r\n  const { notify } = useToast();\r\n  const [reviews, setReviews] = useState([]);\r\n  const [reviewsLoading, setReviewsLoading] = useState(false);\r\n  const [profileReviews, setProfileReviews] = useState([]);\r\n  const [users, setUsers] = useState([]);\r\n  const [view, setView] = useState(\"main\");\r\n  const [isAdmin, setIsAdmin] = useState(false);\r\n  const [profile, setProfile] = useState(null);\r\n  const [form, setForm] = useState({\r\n    bookTitle: \"\",\r\n    author: \"\",\r\n    review: \"\",\r\n    rating: \"\",\r\n    coverImage: \"\",\r\n  });\r\n  const [editMode, setEditMode] = useState(null);\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  const [authMode, setAuthMode] = useState(\"login\");\r\n  const [authForm, setAuthForm] = useState({\r\n    username: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n  });\r\n  const [showResetRequest, setShowResetRequest] = useState(false);\r\n  const [token, setToken] = useState(localStorage.getItem(\"token\") || \"\");\r\n  const [authError, setAuthError] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    if (token) {\r\n      loadReviews();\r\n      checkAdmin();\r\n    }\r\n  }, [token]);\r\n\r\n  const checkAdmin = async () => {\r\n    try {\r\n      await api.fetchUsers(token);\r\n      setIsAdmin(true);\r\n    } catch {\r\n      setIsAdmin(false);\r\n    }\r\n  };\r\n\r\n  const loadReviews = async () => {\r\n    try {\r\n      setReviewsLoading(true);\r\n      const data = await api.fetchReviews(token);\r\n      const sorted = [...data].sort(\r\n        (a, b) => (b.favorite ? 1 : 0) - (a.favorite ? 1 : 0)\r\n      );\r\n      setReviews(sorted);\r\n    } catch {\r\n      setReviews([]);\r\n    } finally {\r\n      setReviewsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleFavorite = async (id) => {\r\n    try {\r\n      await api.toggleFavorite(id, token);\r\n      loadReviews();\r\n      notify(\"Updated favorite\", { type: \"success\" });\r\n    } catch {\r\n      notify(\"Failed to update favorite status\", { type: \"error\" });\r\n    }\r\n  };\r\n\r\n  const handleAuthChange = (e) => {\r\n    setAuthForm({ ...authForm, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleSubmit = async (reviewData) => {\r\n    try {\r\n      if (editMode) {\r\n        await api.updateReview(editMode, reviewData, token);\r\n        setEditMode(null);\r\n        notify(\"Review updated\", { type: \"success\" });\r\n      } else {\r\n        await api.addReview(reviewData, token);\r\n        notify(\"Review added\", { type: \"success\" });\r\n      }\r\n      loadReviews();\r\n      setForm({\r\n        bookTitle: \"\",\r\n        author: \"\",\r\n        review: \"\",\r\n        rating: \"\",\r\n        coverImage: \"\",\r\n      });\r\n    } catch {\r\n      notify(\"You must be logged in to add or edit reviews\", { type: \"error\" });\r\n    }\r\n  };\r\n\r\n  const handleDelete = async (id) => {\r\n    try {\r\n      await api.deleteReview(id, token);\r\n      loadReviews();\r\n      notify(\"Review deleted\", { type: \"success\" });\r\n    } catch {\r\n      notify(\"You must be logged in to delete reviews\", { type: \"error\" });\r\n    }\r\n  };\r\n\r\n  const handleAuthSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setAuthError(\"\");\r\n    try {\r\n      if (authMode === \"login\") {\r\n        const res = await api.login(authForm);\r\n        setToken(res.token);\r\n        localStorage.setItem(\"token\", res.token);\r\n        notify(\"Welcome back!\", { type: \"success\" });\r\n      } else {\r\n        await api.register(authForm);\r\n        setAuthMode(\"login\");\r\n        notify(\"Registration successful. Please verify your email.\", { type: \"success\", duration: 4000 });\r\n      }\r\n      setAuthForm({ username: \"\", password: \"\" });\r\n    } catch (err) {\r\n      const msg = err.response?.data?.message || \"Authentication failed\";\r\n      setAuthError(msg);\r\n      notify(msg, { type: \"error\", duration: 4000 });\r\n    }\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    setToken(\"\");\r\n    localStorage.removeItem(\"token\");\r\n    setView(\"main\");\r\n    notify(\"Logged out\", { type: \"info\" });\r\n  };\r\n\r\n  const handleEdit = (review) => {\r\n    setForm({\r\n      bookTitle: review.bookTitle,\r\n      author: review.author,\r\n      review: review.review,\r\n      rating: review.rating,\r\n      coverImage: review.coverImage || \"\",\r\n    });\r\n    setEditMode(review._id);\r\n  };\r\n\r\n  const filteredReviews = reviews.filter(\r\n    (review) =>\r\n      review.bookTitle.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n      review.author.toLowerCase().includes(searchTerm.toLowerCase())\r\n  );\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      {/* Route-level pages for email flows */}\r\n      <Routes>\r\n        <Route path=\"/verify-email\" element={<VerifyEmail />} />\r\n        <Route path=\"/reset-password\" element={<ResetPassword />} />\r\n      </Routes>\r\n      {token && (\r\n        <nav\r\n          style={{\r\n            display: \"flex\",\r\n            justifyContent: \"flex-end\",\r\n            gap: 16,\r\n            marginBottom: 16,\r\n          }}\r\n        >\r\n          <button onClick={() => setView(\"main\")}>Home</button>\r\n          <button\r\n            onClick={async () => {\r\n              setView(\"profile\");\r\n              try {\r\n                const [me, myReviews] = await Promise.all([\r\n                  api.getMe(token),\r\n                  api.fetchUserReviews(token),\r\n                ]);\r\n                setProfile(me);\r\n                setProfileReviews(myReviews);\r\n              } catch {}\r\n            }}\r\n          >\r\n            Profile\r\n          </button>\r\n          {isAdmin && (\r\n            <button\r\n              onClick={async () => {\r\n                setView(\"admin\");\r\n                try {\r\n                  const data = await api.fetchUsers(token);\r\n                  setUsers(data);\r\n                } catch {}\r\n              }}\r\n            >\r\n              Admin\r\n            </button>\r\n          )}\r\n          <button className=\"logout-btn\" onClick={handleLogout}>\r\n            Logout\r\n          </button>\r\n        </nav>\r\n      )}\r\n      <h1>Book Reviews</h1>\r\n      {!token ? (\r\n        <div className=\"auth-container\">\r\n          <h2>{authMode === \"login\" ? \"Login\" : \"Register\"}</h2>\r\n          {!showResetRequest ? (\r\n            <>\r\n              <form onSubmit={handleAuthSubmit} className=\"auth-form\">\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"username\"\r\n                  value={authForm.username}\r\n                  onChange={handleAuthChange}\r\n                  placeholder=\"Username\"\r\n                  required\r\n                />\r\n                {authMode === \"register\" && (\r\n                  <input\r\n                    type=\"email\"\r\n                    name=\"email\"\r\n                    value={authForm.email}\r\n                    onChange={handleAuthChange}\r\n                    placeholder=\"Email\"\r\n                    required\r\n                  />\r\n                )}\r\n                <input\r\n                  type=\"password\"\r\n                  name=\"password\"\r\n                  value={authForm.password}\r\n                  onChange={handleAuthChange}\r\n                  placeholder=\"Password\"\r\n                  required\r\n                />\r\n                <button type=\"submit\">\r\n                  {authMode === \"login\" ? \"Login\" : \"Register\"}\r\n                </button>\r\n              </form>\r\n              {authMode === \"login\" && (\r\n                <button\r\n                  style={{ marginTop: 8 }}\r\n                  onClick={() => setShowResetRequest(true)}\r\n                >\r\n                  Forgot password?\r\n                </button>\r\n              )}\r\n              <button\r\n                onClick={() =>\r\n                  setAuthMode(authMode === \"login\" ? \"register\" : \"login\")\r\n                }\r\n              >\r\n                {authMode === \"login\" ? \"Create an account\" : \"Back to login\"}\r\n              </button>\r\n              {authError && <p style={{ color: \"red\" }}>{authError}</p>}\r\n            </>\r\n          ) : (\r\n            <PasswordResetRequest onBack={() => setShowResetRequest(false)} />\r\n          )}\r\n        </div>\r\n      ) : (\r\n        <>\r\n          {view === \"main\" && (\r\n            <>\r\n              <div\r\n                style={{\r\n                  display: \"flex\",\r\n                  justifyContent: \"center\",\r\n                  marginBottom: 24,\r\n                }}\r\n              >\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Search by title or author...\"\r\n                  value={searchTerm}\r\n                  onChange={(e) => setSearchTerm(e.target.value)}\r\n                  className=\"search-bar\"\r\n                  style={{ maxWidth: 400 }}\r\n                />\r\n              </div>\r\n              <ReviewForm\r\n                onSubmit={handleSubmit}\r\n                editMode={editMode}\r\n                initialForm={form}\r\n                token={token}\r\n              />\r\n              <div className=\"reviews\">\r\n                {reviewsLoading\r\n                  ? Array.from({ length: 6 }).map((_, i) => (\r\n                      <div key={i} className=\"review\">\r\n                        <div className=\"skeleton skeleton-line\" style={{ width: \"70%\" }} />\r\n                        <div className=\"skeleton skeleton-line\" style={{ width: \"40%\" }} />\r\n                        <div className=\"skeleton skeleton-thumb\" style={{ borderRadius: 8, margin: \"8px 0\" }} />\r\n                        <div className=\"skeleton skeleton-line\" style={{ width: \"90%\" }} />\r\n                        <div className=\"skeleton skeleton-line\" style={{ width: \"85%\" }} />\r\n                      </div>\r\n                    ))\r\n                  : filteredReviews.map((review) => (\r\n                      <ReviewCard\r\n                        key={review._id}\r\n                        review={review}\r\n                        onEdit={handleEdit}\r\n                        onDelete={handleDelete}\r\n                        onFavorite={handleFavorite}\r\n                      />\r\n                    ))}\r\n              </div>\r\n            </>\r\n          )}\r\n          {view === \"profile\" && (\r\n            <ProfilePage\r\n              profile={profile}\r\n              onSaveProfile={async (updates) => {\r\n                try {\r\n                  const updated = await api.updateMe(updates, token);\r\n                  setProfile(updated);\r\n                  notify(\"Profile updated\", { type: \"success\" });\r\n                } catch (e) {\r\n                  throw e;\r\n                }\r\n              }}\r\n              onUploadAvatar={async (e) => {\r\n                const file = e.target.files?.[0];\r\n                if (!file) return;\r\n                try {\r\n                  const { url } = await api.uploadAvatar(file);\r\n                  const updated = await api.updateMe({ avatarUrl: url }, token);\r\n                  setProfile(updated);\r\n                  notify(\"Photo updated\", { type: \"success\" });\r\n                } catch (e) {\r\n                  notify(\"Failed to upload avatar\", { type: \"error\" });\r\n                }\r\n              }}\r\n              onChangePassword={async ({ currentPassword, newPassword }) => {\r\n                try {\r\n                  await api.changePassword(\r\n                    { currentPassword, newPassword },\r\n                    token\r\n                  );\r\n                } catch (e) {\r\n                  throw e;\r\n                }\r\n              }}\r\n              profileReviews={profileReviews}\r\n              onEdit={handleEdit}\r\n              onDelete={handleDelete}\r\n              onFavorite={handleFavorite}\r\n            />\r\n          )}\r\n          {view === \"admin\" && (\r\n            <AdminPanel\r\n              users={users}\r\n              reviews={reviews}\r\n              onDeleteReview={handleDelete}\r\n            />\r\n          )}\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n// End of file\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}