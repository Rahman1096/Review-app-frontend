{"ast":null,"code":"import axios from\"axios\";export const fetchReviews=async token=>{const res=await axios.get(\"/api/reviews\",{headers:{Authorization:\"Bearer \".concat(token)}});return res.data;};export const fetchUserReviews=async token=>{const res=await axios.get(\"/api/user-reviews\",{headers:{Authorization:\"Bearer \".concat(token)}});return res.data;};export const fetchUsers=async token=>{const res=await axios.get(\"/api/users\",{headers:{Authorization:\"Bearer \".concat(token)}});return res.data;};export const addReview=async(reviewData,token)=>{const res=await axios.post(\"/api/reviews\",reviewData,{headers:{Authorization:\"Bearer \".concat(token)}});return res.data;};export const updateReview=async(id,reviewData,token)=>{const res=await axios.put(\"/api/reviews/\".concat(id),reviewData,{headers:{Authorization:\"Bearer \".concat(token)}});return res.data;};export const deleteReview=async(id,token)=>{const res=await axios.delete(\"/api/reviews/\".concat(id),{headers:{Authorization:\"Bearer \".concat(token)}});return res.data;};export const toggleFavorite=async(id,token)=>{const res=await axios.patch(\"/api/reviews/\".concat(id,\"/favorite\"),{},{headers:{Authorization:\"Bearer \".concat(token)}});return res.data;};export const login=async authForm=>{const res=await axios.post(\"/api/login\",authForm);return res.data;};export const register=async authForm=>{const res=await axios.post(\"/api/register\",authForm);return res.data;};export const uploadCover=async file=>{const data=new FormData();data.append(\"cover\",file);const res=await axios.post(\"/api/upload-cover\",data);return res.data;// { url }\n};// Profile APIs\nexport const getMe=async token=>{const res=await axios.get(\"/api/me\",{headers:{Authorization:\"Bearer \".concat(token)}});return res.data;};export const updateMe=async(updates,token)=>{const res=await axios.put(\"/api/me\",updates,{headers:{Authorization:\"Bearer \".concat(token)}});return res.data;};export const uploadAvatar=async file=>{const data=new FormData();data.append(\"avatar\",file);const res=await axios.post(\"/api/upload-avatar\",data);return res.data;// { url }\n};export const changePassword=async(_ref,token)=>{let{currentPassword,newPassword}=_ref;const res=await axios.put(\"/api/me/password\",{currentPassword,newPassword},{headers:{Authorization:\"Bearer \".concat(token)}});return res.data;};","map":{"version":3,"names":["axios","fetchReviews","token","res","get","headers","Authorization","concat","data","fetchUserReviews","fetchUsers","addReview","reviewData","post","updateReview","id","put","deleteReview","delete","toggleFavorite","patch","login","authForm","register","uploadCover","file","FormData","append","getMe","updateMe","updates","uploadAvatar","changePassword","_ref","currentPassword","newPassword"],"sources":["C:/Users/Rehman/Desktop/book-review-app/client/src/api.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nexport const fetchReviews = async (token) => {\r\n  const res = await axios.get(\"/api/reviews\", {\r\n    headers: { Authorization: `Bearer ${token}` },\r\n  });\r\n  return res.data;\r\n};\r\n\r\nexport const fetchUserReviews = async (token) => {\r\n  const res = await axios.get(\"/api/user-reviews\", {\r\n    headers: { Authorization: `Bearer ${token}` },\r\n  });\r\n  return res.data;\r\n};\r\n\r\nexport const fetchUsers = async (token) => {\r\n  const res = await axios.get(\"/api/users\", {\r\n    headers: { Authorization: `Bearer ${token}` },\r\n  });\r\n  return res.data;\r\n};\r\n\r\nexport const addReview = async (reviewData, token) => {\r\n  const res = await axios.post(\"/api/reviews\", reviewData, {\r\n    headers: { Authorization: `Bearer ${token}` },\r\n  });\r\n  return res.data;\r\n};\r\n\r\nexport const updateReview = async (id, reviewData, token) => {\r\n  const res = await axios.put(`/api/reviews/${id}`, reviewData, {\r\n    headers: { Authorization: `Bearer ${token}` },\r\n  });\r\n  return res.data;\r\n};\r\n\r\nexport const deleteReview = async (id, token) => {\r\n  const res = await axios.delete(`/api/reviews/${id}`, {\r\n    headers: { Authorization: `Bearer ${token}` },\r\n  });\r\n  return res.data;\r\n};\r\n\r\nexport const toggleFavorite = async (id, token) => {\r\n  const res = await axios.patch(\r\n    `/api/reviews/${id}/favorite`,\r\n    {},\r\n    {\r\n      headers: { Authorization: `Bearer ${token}` },\r\n    }\r\n  );\r\n  return res.data;\r\n};\r\n\r\nexport const login = async (authForm) => {\r\n  const res = await axios.post(\"/api/login\", authForm);\r\n  return res.data;\r\n};\r\n\r\nexport const register = async (authForm) => {\r\n  const res = await axios.post(\"/api/register\", authForm);\r\n  return res.data;\r\n};\r\n\r\nexport const uploadCover = async (file) => {\r\n  const data = new FormData();\r\n  data.append(\"cover\", file);\r\n  const res = await axios.post(\"/api/upload-cover\", data);\r\n  return res.data; // { url }\r\n};\r\n\r\n// Profile APIs\r\nexport const getMe = async (token) => {\r\n  const res = await axios.get(\"/api/me\", {\r\n    headers: { Authorization: `Bearer ${token}` },\r\n  });\r\n  return res.data;\r\n};\r\n\r\nexport const updateMe = async (updates, token) => {\r\n  const res = await axios.put(\"/api/me\", updates, {\r\n    headers: { Authorization: `Bearer ${token}` },\r\n  });\r\n  return res.data;\r\n};\r\n\r\nexport const uploadAvatar = async (file) => {\r\n  const data = new FormData();\r\n  data.append(\"avatar\", file);\r\n  const res = await axios.post(\"/api/upload-avatar\", data);\r\n  return res.data; // { url }\r\n};\r\n\r\nexport const changePassword = async (\r\n  { currentPassword, newPassword },\r\n  token\r\n) => {\r\n  const res = await axios.put(\r\n    \"/api/me/password\",\r\n    { currentPassword, newPassword },\r\n    { headers: { Authorization: `Bearer ${token}` } }\r\n  );\r\n  return res.data;\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}