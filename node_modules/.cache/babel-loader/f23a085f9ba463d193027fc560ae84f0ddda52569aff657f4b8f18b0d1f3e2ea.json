{"ast":null,"code":"import _objectSpread from\"C:/Users/Rehman/Desktop/book-review-app/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState}from\"react\";import{toAbsoluteUrl}from\"./api\";import ReviewCard from\"./ReviewCard\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProfilePage=_ref=>{let{profile,onSaveProfile,onUploadAvatar,onChangePassword,profileReviews,onEdit,onDelete,onFavorite}=_ref;const[form,setForm]=useState({username:(profile===null||profile===void 0?void 0:profile.username)||\"\",bio:(profile===null||profile===void 0?void 0:profile.bio)||\"\"});const[saving,setSaving]=useState(false);const[error,setError]=useState(\"\");const[pwdForm,setPwdForm]=useState({currentPassword:\"\",newPassword:\"\",confirmPassword:\"\"});const[pwdError,setPwdError]=useState(\"\");const[pwdSaving,setPwdSaving]=useState(false);const[selectedAvatarName,setSelectedAvatarName]=useState(\"\");const[avatarMsg,setAvatarMsg]=useState(\"\");const[avatarPreview,setAvatarPreview]=useState(\"\");const handleChange=e=>{setForm(_objectSpread(_objectSpread({},form),{},{[e.target.name]:e.target.value}));};const handlePwdChange=e=>{setPwdForm(_objectSpread(_objectSpread({},pwdForm),{},{[e.target.name]:e.target.value}));};const handlePwdSave=async e=>{e.preventDefault();setPwdError(\"\");if(pwdForm.newPassword.length<8){setPwdError(\"New password must be at least 8 characters.\");return;}if(pwdForm.newPassword!==pwdForm.confirmPassword){setPwdError(\"Passwords do not match.\");return;}setPwdSaving(true);try{await onChangePassword({currentPassword:pwdForm.currentPassword,newPassword:pwdForm.newPassword});setPwdForm({currentPassword:\"\",newPassword:\"\",confirmPassword:\"\"});alert(\"Password updated successfully\");}catch(err){var _err$response,_err$response$data;setPwdError((err===null||err===void 0?void 0:(_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||\"Failed to update password.\");}finally{setPwdSaving(false);}};// Wrap avatar change to both display filename and call parent upload handler\nconst handleAvatarChange=async e=>{var _e$target$files;const file=(_e$target$files=e.target.files)===null||_e$target$files===void 0?void 0:_e$target$files[0];setSelectedAvatarName(file?file.name:\"\");setAvatarMsg(\"\");if(!file)return;// Create a temporary preview URL\nconst previewUrl=URL.createObjectURL(file);setAvatarPreview(previewUrl);try{await onUploadAvatar(e);setAvatarMsg(\"Photo updated\");// After successful upload, we can clear the preview to use the server URL\nsetTimeout(()=>setAvatarPreview(\"\"),300);}catch(_unused){setAvatarMsg(\"Upload failed\");}};// Cleanup preview URL when it changes or component unmounts\nuseEffect(()=>{return()=>{if(avatarPreview)URL.revokeObjectURL(avatarPreview);};},[avatarPreview]);const handleSave=async e=>{e.preventDefault();setError(\"\");setSaving(true);try{await onSaveProfile(form);}catch(err){var _err$response2,_err$response2$data;setError((err===null||err===void 0?void 0:(_err$response2=err.response)===null||_err$response2===void 0?void 0:(_err$response2$data=_err$response2.data)===null||_err$response2$data===void 0?void 0:_err$response2$data.message)||\"Failed to update profile.\");}finally{setSaving(false);}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Your Profile\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",gap:16,alignItems:\"center\"},children:[/*#__PURE__*/_jsx(\"img\",{src:avatarPreview||(profile!==null&&profile!==void 0&&profile.avatarUrl?toAbsoluteUrl(profile.avatarUrl):\"https://via.placeholder.com/96\"),alt:\"Avatar\",style:{width:96,height:96,borderRadius:\"50%\",objectFit:\"cover\"}}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{id:\"avatar-input\",type:\"file\",accept:\"image/*\",onChange:handleAvatarChange,style:{display:\"none\"}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"avatar-input\",style:{display:\"inline-block\",padding:\"8px 12px\",background:\"#6f2dbd\",color:\"#fff\",borderRadius:6,cursor:\"pointer\",fontWeight:600},children:selectedAvatarName?\"Change Photo\":\"Choose Photo\"}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:12,color:\"#6b7280\",marginTop:6},children:[selectedAvatarName?\"Selected: \".concat(selectedAvatarName):\"Recommended: square image\",avatarMsg&&/*#__PURE__*/_jsx(\"span\",{style:{color:avatarMsg.includes(\"failed\")?\"#dc2626\":\"#059669\",marginLeft:8},children:avatarMsg})]})]})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSave,style:{marginTop:16},children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"username\",value:form.username,onChange:handleChange,placeholder:\"Username\",required:true}),/*#__PURE__*/_jsx(\"textarea\",{name:\"bio\",value:form.bio,onChange:handleChange,placeholder:\"Bio\",rows:3}),error&&/*#__PURE__*/_jsx(\"p\",{style:{color:\"red\"},children:error}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:saving,children:saving?\"Saving...\":\"Save Profile\"})]}),/*#__PURE__*/_jsx(\"h3\",{style:{marginTop:24},children:\"Change Password\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handlePwdSave,children:[/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"currentPassword\",value:pwdForm.currentPassword,onChange:handlePwdChange,placeholder:\"Current password\",required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"newPassword\",value:pwdForm.newPassword,onChange:handlePwdChange,placeholder:\"New password (min 8 chars)\",required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"confirmPassword\",value:pwdForm.confirmPassword,onChange:handlePwdChange,placeholder:\"Confirm new password\",required:true}),pwdError&&/*#__PURE__*/_jsx(\"p\",{style:{color:\"red\"},children:pwdError}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:pwdSaving,children:pwdSaving?\"Updating...\":\"Update Password\"})]}),/*#__PURE__*/_jsx(\"h2\",{style:{marginTop:24},children:\"Your Reviews & Favorites\"}),/*#__PURE__*/_jsx(\"div\",{className:\"reviews\",children:profileReviews.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"No reviews yet.\"}):profileReviews.map(review=>/*#__PURE__*/_jsx(ReviewCard,{review:review,onEdit:onEdit,onDelete:onDelete,onFavorite:onFavorite},review._id))})]});};export default ProfilePage;","map":{"version":3,"names":["React","useEffect","useState","toAbsoluteUrl","ReviewCard","jsx","_jsx","jsxs","_jsxs","ProfilePage","_ref","profile","onSaveProfile","onUploadAvatar","onChangePassword","profileReviews","onEdit","onDelete","onFavorite","form","setForm","username","bio","saving","setSaving","error","setError","pwdForm","setPwdForm","currentPassword","newPassword","confirmPassword","pwdError","setPwdError","pwdSaving","setPwdSaving","selectedAvatarName","setSelectedAvatarName","avatarMsg","setAvatarMsg","avatarPreview","setAvatarPreview","handleChange","e","_objectSpread","target","name","value","handlePwdChange","handlePwdSave","preventDefault","length","alert","err","_err$response","_err$response$data","response","data","message","handleAvatarChange","_e$target$files","file","files","previewUrl","URL","createObjectURL","setTimeout","_unused","revokeObjectURL","handleSave","_err$response2","_err$response2$data","children","style","display","gap","alignItems","src","avatarUrl","alt","width","height","borderRadius","objectFit","id","type","accept","onChange","htmlFor","padding","background","color","cursor","fontWeight","fontSize","marginTop","concat","includes","marginLeft","onSubmit","placeholder","required","rows","disabled","className","map","review","_id"],"sources":["C:/Users/Rehman/Desktop/book-review-app/client/src/ProfilePage.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { toAbsoluteUrl } from \"./api\";\r\nimport ReviewCard from \"./ReviewCard\";\r\n\r\nconst ProfilePage = ({\r\n  profile,\r\n  onSaveProfile,\r\n  onUploadAvatar,\r\n  onChangePassword,\r\n  profileReviews,\r\n  onEdit,\r\n  onDelete,\r\n  onFavorite,\r\n}) => {\r\n  const [form, setForm] = useState({\r\n    username: profile?.username || \"\",\r\n    bio: profile?.bio || \"\",\r\n  });\r\n  const [saving, setSaving] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n  const [pwdForm, setPwdForm] = useState({\r\n    currentPassword: \"\",\r\n    newPassword: \"\",\r\n    confirmPassword: \"\",\r\n  });\r\n  const [pwdError, setPwdError] = useState(\"\");\r\n  const [pwdSaving, setPwdSaving] = useState(false);\r\n  const [selectedAvatarName, setSelectedAvatarName] = useState(\"\");\r\n  const [avatarMsg, setAvatarMsg] = useState(\"\");\r\n  const [avatarPreview, setAvatarPreview] = useState(\"\");\r\n\r\n  const handleChange = (e) => {\r\n    setForm({ ...form, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handlePwdChange = (e) => {\r\n    setPwdForm({ ...pwdForm, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handlePwdSave = async (e) => {\r\n    e.preventDefault();\r\n    setPwdError(\"\");\r\n    if (pwdForm.newPassword.length < 8) {\r\n      setPwdError(\"New password must be at least 8 characters.\");\r\n      return;\r\n    }\r\n    if (pwdForm.newPassword !== pwdForm.confirmPassword) {\r\n      setPwdError(\"Passwords do not match.\");\r\n      return;\r\n    }\r\n    setPwdSaving(true);\r\n    try {\r\n      await onChangePassword({\r\n        currentPassword: pwdForm.currentPassword,\r\n        newPassword: pwdForm.newPassword,\r\n      });\r\n      setPwdForm({ currentPassword: \"\", newPassword: \"\", confirmPassword: \"\" });\r\n      alert(\"Password updated successfully\");\r\n    } catch (err) {\r\n      setPwdError(err?.response?.data?.message || \"Failed to update password.\");\r\n    } finally {\r\n      setPwdSaving(false);\r\n    }\r\n  };\r\n\r\n  // Wrap avatar change to both display filename and call parent upload handler\r\n  const handleAvatarChange = async (e) => {\r\n    const file = e.target.files?.[0];\r\n    setSelectedAvatarName(file ? file.name : \"\");\r\n    setAvatarMsg(\"\");\r\n    if (!file) return;\r\n    // Create a temporary preview URL\r\n    const previewUrl = URL.createObjectURL(file);\r\n    setAvatarPreview(previewUrl);\r\n    try {\r\n      await onUploadAvatar(e);\r\n      setAvatarMsg(\"Photo updated\");\r\n      // After successful upload, we can clear the preview to use the server URL\r\n      setTimeout(() => setAvatarPreview(\"\"), 300);\r\n    } catch {\r\n      setAvatarMsg(\"Upload failed\");\r\n    }\r\n  };\r\n\r\n  // Cleanup preview URL when it changes or component unmounts\r\n  useEffect(() => {\r\n    return () => {\r\n      if (avatarPreview) URL.revokeObjectURL(avatarPreview);\r\n    };\r\n  }, [avatarPreview]);\r\n\r\n  const handleSave = async (e) => {\r\n    e.preventDefault();\r\n    setError(\"\");\r\n    setSaving(true);\r\n    try {\r\n      await onSaveProfile(form);\r\n    } catch (err) {\r\n      setError(err?.response?.data?.message || \"Failed to update profile.\");\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>Your Profile</h2>\r\n      <div style={{ display: \"flex\", gap: 16, alignItems: \"center\" }}>\r\n        <img\r\n          src={\r\n            avatarPreview ||\r\n            (profile?.avatarUrl\r\n              ? toAbsoluteUrl(profile.avatarUrl)\r\n              : \"https://via.placeholder.com/96\")\r\n          }\r\n          alt=\"Avatar\"\r\n          style={{\r\n            width: 96,\r\n            height: 96,\r\n            borderRadius: \"50%\",\r\n            objectFit: \"cover\",\r\n          }}\r\n        />\r\n        <div>\r\n          {/* Hidden native input to avoid default 'No file chosen' label */}\r\n          <input\r\n            id=\"avatar-input\"\r\n            type=\"file\"\r\n            accept=\"image/*\"\r\n            onChange={handleAvatarChange}\r\n            style={{ display: \"none\" }}\r\n          />\r\n          <label\r\n            htmlFor=\"avatar-input\"\r\n            style={{\r\n              display: \"inline-block\",\r\n              padding: \"8px 12px\",\r\n              background: \"#6f2dbd\",\r\n              color: \"#fff\",\r\n              borderRadius: 6,\r\n              cursor: \"pointer\",\r\n              fontWeight: 600,\r\n            }}\r\n          >\r\n            {selectedAvatarName ? \"Change Photo\" : \"Choose Photo\"}\r\n          </label>\r\n          <div style={{ fontSize: 12, color: \"#6b7280\", marginTop: 6 }}>\r\n            {selectedAvatarName\r\n              ? `Selected: ${selectedAvatarName}`\r\n              : \"Recommended: square image\"}\r\n            {avatarMsg && (\r\n              <span\r\n                style={{\r\n                  color: avatarMsg.includes(\"failed\") ? \"#dc2626\" : \"#059669\",\r\n                  marginLeft: 8,\r\n                }}\r\n              >\r\n                {avatarMsg}\r\n              </span>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <form onSubmit={handleSave} style={{ marginTop: 16 }}>\r\n        <input\r\n          type=\"text\"\r\n          name=\"username\"\r\n          value={form.username}\r\n          onChange={handleChange}\r\n          placeholder=\"Username\"\r\n          required\r\n        />\r\n        <textarea\r\n          name=\"bio\"\r\n          value={form.bio}\r\n          onChange={handleChange}\r\n          placeholder=\"Bio\"\r\n          rows={3}\r\n        />\r\n        {error && <p style={{ color: \"red\" }}>{error}</p>}\r\n        <button type=\"submit\" disabled={saving}>\r\n          {saving ? \"Saving...\" : \"Save Profile\"}\r\n        </button>\r\n      </form>\r\n\r\n      <h3 style={{ marginTop: 24 }}>Change Password</h3>\r\n      <form onSubmit={handlePwdSave}>\r\n        <input\r\n          type=\"password\"\r\n          name=\"currentPassword\"\r\n          value={pwdForm.currentPassword}\r\n          onChange={handlePwdChange}\r\n          placeholder=\"Current password\"\r\n          required\r\n        />\r\n        <input\r\n          type=\"password\"\r\n          name=\"newPassword\"\r\n          value={pwdForm.newPassword}\r\n          onChange={handlePwdChange}\r\n          placeholder=\"New password (min 8 chars)\"\r\n          required\r\n        />\r\n        <input\r\n          type=\"password\"\r\n          name=\"confirmPassword\"\r\n          value={pwdForm.confirmPassword}\r\n          onChange={handlePwdChange}\r\n          placeholder=\"Confirm new password\"\r\n          required\r\n        />\r\n        {pwdError && <p style={{ color: \"red\" }}>{pwdError}</p>}\r\n        <button type=\"submit\" disabled={pwdSaving}>\r\n          {pwdSaving ? \"Updating...\" : \"Update Password\"}\r\n        </button>\r\n      </form>\r\n\r\n      <h2 style={{ marginTop: 24 }}>Your Reviews & Favorites</h2>\r\n      <div className=\"reviews\">\r\n        {profileReviews.length === 0 ? (\r\n          <p>No reviews yet.</p>\r\n        ) : (\r\n          profileReviews.map((review) => (\r\n            <ReviewCard\r\n              key={review._id}\r\n              review={review}\r\n              onEdit={onEdit}\r\n              onDelete={onDelete}\r\n              onFavorite={onFavorite}\r\n            />\r\n          ))\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProfilePage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}