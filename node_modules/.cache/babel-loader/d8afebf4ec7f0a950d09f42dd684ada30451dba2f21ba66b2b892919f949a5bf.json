{"ast":null,"code":"import axios from \"axios\";\nexport const fetchReviews = async token => {\n  const res = await axios.get(\"/api/reviews\", {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  });\n  return res.data;\n};\nexport const fetchUserReviews = async token => {\n  const res = await axios.get(\"/api/user-reviews\", {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  });\n  return res.data;\n};\nexport const fetchUsers = async token => {\n  const res = await axios.get(\"/api/users\", {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  });\n  return res.data;\n};\nexport const addReview = async (reviewData, token) => {\n  const res = await axios.post(\"/api/reviews\", reviewData, {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  });\n  return res.data;\n};\nexport const updateReview = async (id, reviewData, token) => {\n  const res = await axios.put(`/api/reviews/${id}`, reviewData, {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  });\n  return res.data;\n};\nexport const deleteReview = async (id, token) => {\n  const res = await axios.delete(`/api/reviews/${id}`, {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  });\n  return res.data;\n};\nexport const toggleFavorite = async (id, token) => {\n  const res = await axios.patch(`/api/reviews/${id}/favorite`, {}, {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  });\n  return res.data;\n};\nexport const login = async authForm => {\n  const res = await axios.post(\"/api/login\", authForm);\n  return res.data;\n};\nexport const register = async authForm => {\n  const res = await axios.post(\"/api/register\", authForm);\n  return res.data;\n};\nexport const uploadCover = async file => {\n  const data = new FormData();\n  data.append(\"cover\", file);\n  const res = await axios.post(\"/api/upload-cover\", data);\n  return res.data; // { url }\n};\n\n// Profile APIs\nexport const getMe = async token => {\n  const res = await axios.get(\"/api/me\", {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  });\n  return res.data;\n};\nexport const updateMe = async (updates, token) => {\n  const res = await axios.put(\"/api/me\", updates, {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  });\n  return res.data;\n};\nexport const uploadAvatar = async file => {\n  const data = new FormData();\n  data.append(\"avatar\", file);\n  const res = await axios.post(\"/api/upload-avatar\", data);\n  return res.data; // { url }\n};","map":{"version":3,"names":["axios","fetchReviews","token","res","get","headers","Authorization","data","fetchUserReviews","fetchUsers","addReview","reviewData","post","updateReview","id","put","deleteReview","delete","toggleFavorite","patch","login","authForm","register","uploadCover","file","FormData","append","getMe","updateMe","updates","uploadAvatar"],"sources":["C:/Users/Rehman/Desktop/book-review-app/client/src/api.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nexport const fetchReviews = async (token) => {\r\n  const res = await axios.get(\"/api/reviews\", {\r\n    headers: { Authorization: `Bearer ${token}` },\r\n  });\r\n  return res.data;\r\n};\r\n\r\nexport const fetchUserReviews = async (token) => {\r\n  const res = await axios.get(\"/api/user-reviews\", {\r\n    headers: { Authorization: `Bearer ${token}` },\r\n  });\r\n  return res.data;\r\n};\r\n\r\nexport const fetchUsers = async (token) => {\r\n  const res = await axios.get(\"/api/users\", {\r\n    headers: { Authorization: `Bearer ${token}` },\r\n  });\r\n  return res.data;\r\n};\r\n\r\nexport const addReview = async (reviewData, token) => {\r\n  const res = await axios.post(\"/api/reviews\", reviewData, {\r\n    headers: { Authorization: `Bearer ${token}` },\r\n  });\r\n  return res.data;\r\n};\r\n\r\nexport const updateReview = async (id, reviewData, token) => {\r\n  const res = await axios.put(`/api/reviews/${id}`, reviewData, {\r\n    headers: { Authorization: `Bearer ${token}` },\r\n  });\r\n  return res.data;\r\n};\r\n\r\nexport const deleteReview = async (id, token) => {\r\n  const res = await axios.delete(`/api/reviews/${id}`, {\r\n    headers: { Authorization: `Bearer ${token}` },\r\n  });\r\n  return res.data;\r\n};\r\n\r\nexport const toggleFavorite = async (id, token) => {\r\n  const res = await axios.patch(\r\n    `/api/reviews/${id}/favorite`,\r\n    {},\r\n    {\r\n      headers: { Authorization: `Bearer ${token}` },\r\n    }\r\n  );\r\n  return res.data;\r\n};\r\n\r\nexport const login = async (authForm) => {\r\n  const res = await axios.post(\"/api/login\", authForm);\r\n  return res.data;\r\n};\r\n\r\nexport const register = async (authForm) => {\r\n  const res = await axios.post(\"/api/register\", authForm);\r\n  return res.data;\r\n};\r\n\r\nexport const uploadCover = async (file) => {\r\n  const data = new FormData();\r\n  data.append(\"cover\", file);\r\n  const res = await axios.post(\"/api/upload-cover\", data);\r\n  return res.data; // { url }\r\n};\r\n\r\n// Profile APIs\r\nexport const getMe = async (token) => {\r\n  const res = await axios.get(\"/api/me\", {\r\n    headers: { Authorization: `Bearer ${token}` },\r\n  });\r\n  return res.data;\r\n};\r\n\r\nexport const updateMe = async (updates, token) => {\r\n  const res = await axios.put(\"/api/me\", updates, {\r\n    headers: { Authorization: `Bearer ${token}` },\r\n  });\r\n  return res.data;\r\n};\r\n\r\nexport const uploadAvatar = async (file) => {\r\n  const data = new FormData();\r\n  data.append(\"avatar\", file);\r\n  const res = await axios.post(\"/api/upload-avatar\", data);\r\n  return res.data; // { url }\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}